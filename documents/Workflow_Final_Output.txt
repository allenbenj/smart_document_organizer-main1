Smart Document Organizer
Final Accuracy-First Knowledge Creation Workflow

Purpose
This runbook defines the highest-accuracy path for extraction and learning (knowledge creation) from raw documents through curated memory and finalized knowledge records.

Scope
- Document ingestion and extraction
- Entity and knowledge graph extraction
- Human-in-the-loop memory curation
- Proposal generation and controlled application
- Embedding support for retrieval (not source-of-truth)

Accuracy Principles
1. Human validation is mandatory before promotion to curated knowledge.
2. Provenance must be preserved at every stage (source document, excerpt, timestamps, reviewer state).
3. Jurisdiction must be consistent end-to-end for a given case context.
4. Embeddings are retrieval support, not legal fact authority.

End-to-End Accuracy-First Path

Step 1: Document Processing (Foundation)
Location: Processing tab
Action:
- Add full case folder(s)
- Run Process Documents
Required options (ON):
- Extract Text
- Extract Metadata
- Analyze Content Structure
- Generate Summary
- Index to Vector Store
- Enable OCR
Output:
- Structured extracted content
- Metadata and chunked content for downstream extraction and search

Step 2: Entity Extraction (High-Recall + Grounded)
Location: Entities tab
Action:
- Run extraction with Ensemble Engine = Auto (Ensemble)
- Keep Knowledge Graph Grounding enabled
- Review extracted rows and approve only high-confidence/valid findings
- Sync approved findings to Agent Memory
Output:
- Candidate entities and relationships with confidence and method traces
- Memory proposals for curation

Step 3: Knowledge Graph Extraction (Structured Relations)
Location: Knowledge Graph tab
Action A (narrative-driven):
- Paste key narrative text
- Run Extract KG from Text
- Review triples
- Import Extracted Triples
Action B (corpus-driven):
- Queue files/folders
- Run Extract KG from Files
Output:
- Candidate graph triples and linked entities for review and promotion

Step 4: Agent Memory Manager (Primary Learning Gate)
Location: Agent Memory Manager tab (Unified Workspace)
Action:
- Curate from unified pending + curated view
- Edit ontology, canonical values, jurisdiction, and provenance once in unified workflow
- Approve only validated proposals
- Reject weak/noisy proposals
- Save via Save Unified Selected or Save Unified All Visible
Output:
- Curated manager knowledge records
- Verified memory state for downstream agent behavior

Step 5: Organization Proposals (Post-Curation Only)
Location: Organization tab
Action:
- Run Generate Scoped only after memory/knowledge curation is stable
- Manually review generated move/rename proposals
- Apply Approved as final action
Output:
- Controlled filesystem organization based on curated intelligence

Step 6: Embeddings (Retrieval Support)
Location: Embeddings tab
Action:
- Use Nomic v1.5 (High-Fidelity)
- Run on curated corpus (folder mode) after Steps 1-4 are complete
Usage constraint:
- Use embeddings for search/similarity/clustering support only
- Do not treat embedding similarity as legal ground truth

Jurisdiction Consistency Rule (Critical)
For each case context:
- Use one jurisdiction label consistently through extraction metadata, proposals, curated knowledge, and framework references.
- Mismatch is acceptable only if deliberate and carried consistently across all linked records.
- Avoid mixed jurisdiction references within the same case record set.

Required Record Completeness for Final Knowledge Items
Each finalized record should include, when available:
- Identity: id, term/content, canonical_value, category, ontology_entity_id
- Validation: confidence, status, verified, verified_by, expert verification metadata
- Provenance: source, notes/user_notes, created_at, updated_at
- Graph links: aliases, relations, sources (structured objects preferred)
- Domain fields: legal_use_cases, issue_category, severity, root_cause, resolution_evidence, fix_status, next_review_date, related_frameworks

Quality Gates Before Finalization
1. Source traceability present (document/excerpt or proposal lineage).
2. Canonical value normalized and ontology mapping confirmed.
3. Jurisdiction consistency verified across related fields.
4. Confidence and human review status aligned with promotion decision.
5. Relations/sources are structured where available (object arrays, not lossy strings).

Operational Notes
- Highest accuracy comes from strict sequencing: Process -> Extract -> KG -> Curate -> Organize -> Embed.
- Skipping curation increases propagation of low-quality memory.
- Bulk edits are useful, but final approval should remain evidence-driven.

Final Outcome
Following this runbook yields:
- Reproducible extraction quality
- Strong provenance and auditability
- Cleaner curated knowledge graph/memory
- Better downstream retrieval and agent decisions
without treating probabilistic signals as authoritative facts.
